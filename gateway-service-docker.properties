spring.application.name=gateway-service
server.port=1111

# Eureka Client Configuration
eureka.client.service-url.defaultZone=http://discovery-service:8761/eureka/

# Routes configuration
spring.cloud.gateway.routes[0].id=user-service
spring.cloud.gateway.routes[0].uri=lb://user-service
spring.cloud.gateway.routes[0].predicates[0]=Path=/api/user/**
spring.cloud.gateway.routes[0].filters[0]=RewritePath=/api/user/(?<segment>.*), /api/user/$\{segment}

spring.cloud.gateway.routes[1].id=subscription-service
spring.cloud.gateway.routes[1].uri=lb://subscription-service
spring.cloud.gateway.routes[1].predicates[0]=Path=/api/sub/**
spring.cloud.gateway.routes[1].filters[0]=RewritePath=/api/sub/(?<segment>.*), /api/sub/$\{segment}

spring.cloud.gateway.routes[2].id=review-service
spring.cloud.gateway.routes[2].uri=lb://review-service
spring.cloud.gateway.routes[2].predicates[0]=Path=/api/rvw/**
spring.cloud.gateway.routes[2].filters[0]=RewritePath=/api/rvw/(?<segment>.*), /api/rvw/$\{segment}

spring.cloud.gateway.routes[3].id=rdv-service
spring.cloud.gateway.routes[3].uri=lb://rdv-service
spring.cloud.gateway.routes[3].predicates[0]=Path=/api/rdv/**
spring.cloud.gateway.routes[3].filters[0]=RewritePath=/api/rdv/(?<segment>.*), /api/rdv/$\{segment}

spring.cloud.gateway.routes[4].id=property-service
spring.cloud.gateway.routes[4].uri=lb://property-service
spring.cloud.gateway.routes[4].predicates[0]=Path=/api/prop/**
spring.cloud.gateway.routes[4].filters[0]=RewritePath=/api/prop/(?<segment>.*), /api/prop/$\{segment}

spring.cloud.gateway.routes[5].id=notification-service
spring.cloud.gateway.routes[5].uri=lb://notification-service
spring.cloud.gateway.routes[5].predicates[0]=Path=/api/notif/**
spring.cloud.gateway.routes[5].filters[0]=RewritePath=/api/notif/(?<segment>.*), /api/notif/$\{segment}

spring.cloud.gateway.routes[6].id=chat-service
spring.cloud.gateway.routes[6].uri=lb://chat-service
spring.cloud.gateway.routes[6].predicates[0]=Path=/api/chat/**
spring.cloud.gateway.routes[6].filters[0]=RewritePath=/api/chat/(?<segment>.*), /api/chat/$\{segment}

# CORS Configuration
spring.cloud.gateway.globalcors.add-to-simple-url-handler-mapping=true
spring.cloud.gateway.globalcors.cors-configurations.[/**].allowed-origins=*
spring.cloud.gateway.globalcors.cors-configurations.[/**].allowed-headers=*
spring.cloud.gateway.globalcors.cors-configurations.[/**].allowed-methods=*
